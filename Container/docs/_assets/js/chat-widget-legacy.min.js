"use strict";function _possibleConstructorReturn(t,n){return!n||"object"!==_typeof(n)&&"function"!=typeof n?_assertThisInitialized(t):n}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _inherits(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&_setPrototypeOf(t,n)}function _setPrototypeOf(t,n){return(_setPrototypeOf=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t})(t,n)}function _slicedToArray(t,n){return _arrayWithHoles(t)||_iterableToArrayLimit(t,n)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(t,n){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)){var e=[],r=!0,i=!1,o=void 0;try{for(var c,u=t[Symbol.iterator]();!(r=(c=u.next()).done)&&(e.push(c.value),!n||e.length!==n);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==u.return||u.return()}finally{if(i)throw o}}return e}}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t)){for(var n=0,e=new Array(t.length);n<t.length;n++)e[n]=t[n];return e}}function _classCallCheck(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass(t,n,e){return n&&_defineProperties(t.prototype,n),e&&_defineProperties(t,e),t}function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var ChatWidget=function(){function v(){}function p(t,n){for(var e in n)t[e]=n[e];return t}function a(t){return t()}function h(){return Object.create(null)}function O(t){t.forEach(a)}function _(t){return"function"==typeof t}function r(t,n){return t!=t?n==n:t!==n||t&&"object"==_typeof(t)||"function"==typeof t}function s(t,n,e,r){return t[1]&&r?p(e.ctx.slice(),t[1](r(n))):e.ctx}function E(t,n){t.appendChild(n)}function A(t,n,e){t.insertBefore(n,e||null)}function I(t){t.parentNode.removeChild(t)}function e(t,n){for(var e=0;e<t.length;e+=1)t[e]&&t[e].d(n)}function j(t){return document.createElement(t)}function L(t){return document.createTextNode(t)}function S(){return L(" ")}function z(t,n,e,r){return t.addEventListener(n,e,r),function(){return t.removeEventListener(n,e,r)}}function R(t,n,e){null==e?t.removeAttribute(n):t.getAttribute(n)!==e&&t.setAttribute(n,e)}function w(t,n){n=""+n,t.data!==n&&(t.data=n)}function P(t,n){null==n&&!t.value||(t.value=n)}function M(t,n,e,r){t.style.setProperty(n,e,r?"important":"")}function B(t,n,e){t.classList[e?"add":"remove"](n)}var m,n=function(){function e(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;_classCallCheck(this,e),this.e=j("div"),this.a=n,this.u(t)}return _createClass(e,[{key:"m",value:function(t,n){for(var e=1<arguments.length&&void 0!==n?n:null,r=0;r<this.n.length;r+=1)A(t,this.n[r],e);this.t=t}},{key:"u",value:function(t){this.e.innerHTML=t,this.n=Array.from(this.e.childNodes)}},{key:"p",value:function(t){this.d(),this.u(t),this.m(this.t,this.a)}},{key:"d",value:function(){this.n.forEach(I)}}]),e}();function g(t){m=t}function D(){if(!m)throw new Error("Function called outside component initialization");return m}function H(t){D().$$.on_mount.push(t)}function y(){var u=D();return function(t,n){var e,r,i,o=u.$$.callbacks[t];if(o){var c=(e=t,r=n,(i=document.createEvent("CustomEvent")).initCustomEvent(e,!1,!1,r),i);o.slice().forEach(function(t){t.call(u,c)})}}}var b=[],N=[],i=[],o=[],$=Promise.resolve(),k=!1;function l(t){i.push(t)}var c=new Set;function C(){do{for(;b.length;){var t=b.shift();g(t),u(t.$$)}for(;N.length;)N.pop()();for(var n=0;n<i.length;n+=1){var e=i[n];c.has(e)||(c.add(e),e())}i.length=0}while(b.length);for(;o.length;)o.pop()();k=!1,c.clear()}function u(t){if(null!==t.fragment){t.update(),O(t.before_update);var n=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,n),t.after_update.forEach(l)}}var f,d=new Set;function W(){f={r:0,c:[],p:f}}function U(){f.r||O(f.c),f=f.p}function V(t,n){t&&t.i&&(d.delete(t),t.i(n))}function q(t,n,e,r){if(t&&t.o){if(d.has(t))return;d.add(t),f.c.push(function(){d.delete(t),r&&(e&&t.d(1),r())}),t.o(n)}}function x(t){t&&t.c()}function T(n,t,e){var r=n.$$,i=r.fragment,o=r.on_mount,c=r.on_destroy,u=r.after_update;i&&i.m(t,e),l(function(){var t=o.map(a).filter(_);c?c.push.apply(c,_toConsumableArray(t)):O(t),n.$$.on_mount=[]}),u.forEach(l)}function Z(t,n){var e=t.$$;null!==e.fragment&&(O(e.on_destroy),e.fragment&&e.fragment.d(n),e.on_destroy=e.fragment=null,e.ctx=[])}function X(o,t,n,e,c,r,i){var u=6<arguments.length&&void 0!==i?i:[-1],a=m;g(o);var s,l=t.props||{},f=o.$$={fragment:null,ctx:null,props:r,update:v,not_equal:c,bound:h(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(a?a.$$.context:[]),callbacks:h(),dirty:u},d=!1;f.ctx=n?n(o,l,function(t,n){var e,r,i=!(arguments.length<=2)&&arguments.length-2?arguments.length<=2?void 0:arguments[2]:n;return f.ctx&&c(f.ctx[t],f.ctx[t]=i)&&(f.bound[t]&&f.bound[t](i),d&&(r=t,-1===(e=o).$$.dirty[0]&&(b.push(e),k||(k=!0,$.then(C)),e.$$.dirty.fill(0)),e.$$.dirty[r/31|0]|=1<<r%31)),n}):[],f.update(),d=!0,O(f.before_update),f.fragment=!!e&&e(f.ctx),t.target&&(t.hydrate?f.fragment&&f.fragment.l((s=t.target,Array.from(s.childNodes))):f.fragment&&f.fragment.c(),t.intro&&V(o.$$.fragment),T(o,t.target,t.anchor),C()),g(a)}var F,G,J,K,t,Q,Y=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"$destroy",value:function(){Z(this,1),this.$destroy=v}},{key:"$on",value:function(t,n){var e=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return e.push(n),function(){var t=e.indexOf(n);-1!==t&&e.splice(t,1)}}},{key:"$set",value:function(){}}]),t}();(Q=F=F||{}).Text="TEXT",Q.Placeholder="PLACEHOLDER",Q.Card="CARD",Q.ButtonList="BUTTON_LIST",Q.Media="MEDIA",(G||(G={})).Image="IMAGE",(J||(J={})).Action="ACTION",(t=K=K||{}).Action="ACTION",t.Url="URL",t.Phone="PHONE",t.Email="EMAIL";var tt,nt,et=((tt={exports:{}}).exports=((nt=function(t){return t.replace(/.+(?:\n.+)*/g,function(t){var n=/^\s{4}([^]*)$/.exec(t);if(n)return"<pre><code>"+n[1].replace(/\n    /g,"\n")+"</code></pre>";for(var e,r=[],i=t.replace(/\\([(){}[\]#*+\-.!_\\])/g,function(t,n){return String.fromCharCode(1,"\\[!]#{()}*+-._".indexOf(n)+16)}).replace(/(\*\*|__|~~)(\S(?:[\s\S]*?\S)?)\1/g,function(t,n,e){return"~~"===n?"<del>"+e+"</del>":"<b>"+e+"</b>"}).replace(/(\n|^|\W)([_\*])(\S(?:[\s\S]*?\S)?)\2(\W|$|\n)/g,function(t,n,e,r,i){return n+"<i>"+r+"</i>"+i}).replace(/(!?)\[([^\]<>]+)\]\((\+?)([^ \)<>]+)(?: "([^\(\)\"]+)")?\)/g,function(t,n,e,r,i,o){var c=o?' title="'+o+'"':"";return n?'<img src="'+nt.href(i)+'" alt="'+e+'"'+c+"/>":(r&&(c+=' target="_blank"'),'<a href="'+nt.href(i)+'"'+c+">"+e+"</a>")}).split("\n"),o=0,c=i.length;o<c;++o){var u=i[o],a=/^\s{0,3}(\#{1,6})\s+(.*?)\s*#*\s*$/.exec(u);if(a)r.push(e=[a[2],"h",a[1].length]);else{var s=/^(\s*)(?:[-*]|(\d[.)])) (.+)$/.exec(u);s?r.push(e=[s[3],s[2]?"ol":"ul",s[1].length]):/^\s{0,3}([-])(\s*\1){2,}\s*$/.test(u)?r.push(e=["","hr"]):e&&"hr"!==e[1]&&"h"!==e[1]?e[0]+="\n"+u:r.push(e=[u,"p",""])}}var l="",f=[];for(o=0,c=r.length;o<c;++o){var d=(e=r[o])[0],h=e[1],p=e[2];if("ul"===h||"ol"===h)!f.length||p>f[0][1]?(f.unshift([h,p]),l+="<"+f[0][0]+"><li>"+d):1<f.length&&p<=f[1][1]?(l+="</li></"+f.shift()[0]+">",--o):l+="</li><li>"+d;else{for(;f.length;)l+="</li></"+f.shift()[0]+">";l+="hr"===h?"<hr/>":"<"+h+p+nt.headAttrs(p,d)+">"+d+"</"+h+p+">"}}for(;f.length;)l+="</li></"+f.shift()[0]+">";return l.replace(/\x01([\x0f-\x1c])/g,function(t,n){return"\\[!]#{()}*+-._".charAt(n.charCodeAt(0)-16)})})}).href=function(t){return t},nt.headAttrs=function(t,n){return""},nt),tt.exports),rt=function(){function t(){_classCallCheck(this,t)}return _createClass(t,null,[{key:"randomId",value:function(){var t=window.crypto||window.msCrypto;if(t){var n=t.getRandomValues(new Uint32Array(2));return n[0].toString(16)+n[1].toString(16)}for(var e="",r=0;r<4;r+=1)e+=Math.ceil(9999*Math.random()).toString(16);return e}},{key:"wait",value:function(n){return o=this,u=regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(t){return setTimeout(t,n)}));case 1:case"end":return t.stop()}},t)}),new((c=void 0)||(c=Promise))(function(t,n){function e(t){try{i(u.next(t))}catch(t){n(t)}}function r(t){try{i(u.throw(t))}catch(t){n(t)}}function i(n){n.done?t(n.value):new c(function(t){t(n.value)}).then(e,r)}i((u=u.apply(o,[])).next())});var o,c,u}},{key:"markdown2HTML",value:function(t){return et(t)}},{key:"getCssClassByType",value:function(t){return t&&t.type?t.type.toString().toLowerCase():""}}]),t}();function it(t,n,e){var r=t.slice();return r[4]=n[e],r}function ot(e){var r,i,o,c,u,a,s,l=e[4].label+"";return{c:function(){r=j("div"),i=L(l),o=S(),c=j("i"),u=S(),R(c,"class","arrow right"),R(r,"class",a="button "+rt.getCssClassByType(e[4])+" svelte-p9hoyf")},m:function(t,n){A(t,r,n),E(r,i),E(r,o),E(r,c),E(r,u),s=z(r,"click",function(){_(e[2](e[4]))&&e[2](e[4]).apply(this,arguments)})},p:function(t,n){e=t,2&n&&l!==(l=e[4].label+"")&&w(i,l),2&n&&a!==(a="button "+rt.getCssClassByType(e[4])+" svelte-p9hoyf")&&R(r,"class",a)},d:function(t){t&&I(r),s()}}}function ct(t){for(var r,o,i,c,u=rt.markdown2HTML(t[0])+"",a=t[1],s=[],n=0;n<a.length;n+=1)s[n]=ot(it(t,a,n));return{c:function(){r=j("div"),o=j("header"),i=S(),c=j("div");for(var t=0;t<s.length;t+=1)s[t].c();R(c,"class","content"),R(r,"class","btn-list-container svelte-p9hoyf")},m:function(t,n){A(t,r,n),E(r,o),o.innerHTML=u,E(r,i),E(r,c);for(var e=0;e<s.length;e+=1)s[e].m(c,null)},p:function(t,n){var e=_slicedToArray(n,1)[0];if(1&e&&u!==(u=rt.markdown2HTML(t[0])+"")&&(o.innerHTML=u),6&e){var r;for(a=t[1],r=0;r<a.length;r+=1){var i=it(t,a,r);s[r]?s[r].p(i,e):(s[r]=ot(i),s[r].c(),s[r].m(c,null))}for(;r<s.length;r+=1)s[r].d(1);s.length=a.length}},i:v,o:v,d:function(t){t&&I(r),e(s,t)}}}function ut(t,n,e){var r=n.text,i=n.buttons,o=y();return t.$set=function(t){"text"in t&&e(0,r=t.text),"buttons"in t&&e(1,i=t.buttons)},[r,i,function(t){o("buttonClick",Object.assign({},t))}]}var at=function(){function e(t){var n;return _classCallCheck(this,e),X(_assertThisInitialized(n=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this))),t,ut,ct,r,{text:0,buttons:1}),n}return _inherits(e,Y),e}();function st(t){var e,r;return{c:function(){R(e=j("img"),"class","image svelte-bjmxst"),R(e,"alt",""),e.src!==(r=t[0])&&R(e,"src",r)},m:function(t,n){A(t,e,n)},p:function(t,n){1&_slicedToArray(n,1)[0]&&e.src!==(r=t[0])&&R(e,"src",r)},i:v,o:v,d:function(t){t&&I(e)}}}function lt(t,n,e){var r=n.url;return t.$set=function(t){"url"in t&&e(0,r=t.url)},[r]}var ft=function(){function e(t){var n;return _classCallCheck(this,e),X(_assertThisInitialized(n=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this))),t,lt,st,r,{url:0}),n}return _inherits(e,Y),e}();function dt(t,n,e){var r=t.slice();return r[24]=n[e],r}function ht(t,n,e){var r=t.slice();return r[21]=n[e],r}function pt(r){var e,i,o,c;function u(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];return r[19].apply(r,[r[21]].concat(n))}return{c:function(){e=j("header"),M(i=j("img"),"display","none"),i.src!==(o=r[21].image)&&R(i,"src",o),R(i,"alt",""),R(e,"class","svelte-17jxzhw")},m:function(t,n){A(t,e,n),E(e,i),c=[z(i,"error",r[18]),z(i,"load",u)]},p:function(t,n){r=t,1&n&&i.src!==(o=r[21].image)&&R(i,"src",o)},d:function(t){t&&I(e),O(c)}}}function vt(t){var e,r,i=t[21].figure+"";return{c:function(){e=j("div"),r=L(i),R(e,"class","figure svelte-17jxzhw")},m:function(t,n){A(t,e,n),E(e,r)},p:function(t,n){1&n&&i!==(i=t[21].figure+"")&&w(r,i)},d:function(t){t&&I(e)}}}function mt(t){var e,r,i=t[21].subtitle+"";return{c:function(){e=j("div"),r=L(i),R(e,"class","subtitle svelte-17jxzhw")},m:function(t,n){A(t,e,n),E(e,r)},p:function(t,n){1&n&&i!==(i=t[21].subtitle+"")&&w(r,i)},d:function(t){t&&I(e)}}}function gt(t){var e,r=rt.markdown2HTML(t[21].description)+"";return{c:function(){R(e=j("div"),"class","description")},m:function(t,n){A(t,e,n),e.innerHTML=r},p:function(t,n){1&n&&r!==(r=rt.markdown2HTML(t[21].description)+"")&&(e.innerHTML=r)},d:function(t){t&&I(e)}}}function yt(t){for(var i,o=t[21].buttons,c=[],n=0;n<o.length;n+=1)c[n]=bt(dt(t,o,n));return{c:function(){i=j("footer");for(var t=0;t<c.length;t+=1)c[t].c()},m:function(t,n){A(t,i,n);for(var e=0;e<c.length;e+=1)c[e].m(i,null)},p:function(t,n){if(17&n){var e;for(o=t[21].buttons,e=0;e<o.length;e+=1){var r=dt(t,o,e);c[e]?c[e].p(r,n):(c[e]=bt(r),c[e].c(),c[e].m(i,null))}for(;e<c.length;e+=1)c[e].d(1);c.length=o.length}},d:function(t){t&&I(i),e(c,t)}}}function bt(e){var r,i,o,c,u,a,s,l=e[24].label+"";return{c:function(){r=j("div"),i=L(l),o=S(),c=j("i"),u=S(),R(c,"class","arrow right"),R(r,"class",a="button "+rt.getCssClassByType(e[24])+" svelte-17jxzhw")},m:function(t,n){A(t,r,n),E(r,i),E(r,o),E(r,c),E(r,u),s=z(r,"click",function(){_(e[4](e[24]))&&e[4](e[24]).apply(this,arguments)})},p:function(t,n){e=t,1&n&&l!==(l=e[24].label+"")&&w(i,l),1&n&&a!==(a="button "+rt.getCssClassByType(e[24])+" svelte-17jxzhw")&&R(r,"class",a)},d:function(t){t&&I(r),s()}}}function $t(e){var r,i,o,c,u,a,s,l,f,d,h,p,v=e[21].title+"",m=e[21].image&&pt(e),g=e[21].figure&&vt(e),y=e[21].subtitle&&mt(e),b=e[21].description&&gt(e),$=e[21].buttons&&e[21].buttons.length&&yt(e);return{c:function(){r=j("section"),m&&m.c(),i=S(),o=j("div"),c=j("div"),u=j("div"),a=L(v),s=S(),g&&g.c(),l=S(),y&&y.c(),f=S(),b&&b.c(),d=S(),$&&$.c(),h=S(),R(u,"class","title svelte-17jxzhw"),R(c,"class","title-row svelte-17jxzhw"),R(o,"class","content svelte-17jxzhw"),B(o,"clickable",e[21].value&&e[21].value.trim().length),R(r,"class","svelte-17jxzhw")},m:function(t,n){A(t,r,n),m&&m.m(r,null),E(r,i),E(r,o),E(o,c),E(c,u),E(u,a),E(c,s),g&&g.m(c,null),E(o,l),y&&y.m(o,null),E(o,f),b&&b.m(o,null),E(r,d),$&&$.m(r,null),E(r,h),p=z(o,"click",function(){_(e[5](e[21]))&&e[5](e[21]).apply(this,arguments)})},p:function(t,n){(e=t)[21].image?m?m.p(e,n):((m=pt(e)).c(),m.m(r,i)):m&&(m.d(1),m=null),1&n&&v!==(v=e[21].title+"")&&w(a,v),e[21].figure?g?g.p(e,n):((g=vt(e)).c(),g.m(c,null)):g&&(g.d(1),g=null),e[21].subtitle?y?y.p(e,n):((y=mt(e)).c(),y.m(o,f)):y&&(y.d(1),y=null),e[21].description?b?b.p(e,n):((b=gt(e)).c(),b.m(o,null)):b&&(b.d(1),b=null),1&n&&B(o,"clickable",e[21].value&&e[21].value.trim().length),e[21].buttons&&e[21].buttons.length?$?$.p(e,n):(($=yt(e)).c(),$.m(r,h)):$&&($.d(1),$=null)},d:function(t){t&&I(r),m&&m.d(),g&&g.d(),y&&y.d(),b&&b.d(),$&&$.d(),p()}}}function _t(r){for(var i,o,c,u,a,s,l,f,d,h=r[0],p=[],t=0;t<h.length;t+=1)p[t]=$t(ht(r,h,t));return{c:function(){i=j("div"),o=j("div"),c=j("i"),u=S(),a=j("div"),s=j("i"),l=S(),f=j("div");for(var t=0;t<p.length;t+=1)p[t].c();R(c,"class","arrow bright"),R(o,"class","scroll-btn left svelte-17jxzhw"),M(o,"visibility",r[2]?"hidden":"visible"),R(s,"class","arrow right bright"),R(a,"class","scroll-btn right svelte-17jxzhw"),M(a,"visibility",r[3]?"hidden":"visible"),R(f,"class","scrollable svelte-17jxzhw"),R(i,"class","card-container svelte-17jxzhw")},m:function(t,n){A(t,i,n),E(i,o),E(o,c),E(i,u),E(i,a),E(a,s),E(i,l),E(i,f);for(var e=0;e<p.length;e+=1)p[e].m(f,null);r[20](f),d=[z(o,"click",r[16]),z(a,"click",r[17]),z(f,"scroll",r[7])]},p:function(t,n){var e=_slicedToArray(n,1)[0];if(4&e&&M(o,"visibility",t[2]?"hidden":"visible"),8&e&&M(a,"visibility",t[3]?"hidden":"visible"),305&e){var r;for(h=t[0],r=0;r<h.length;r+=1){var i=ht(t,h,r);p[r]?p[r].p(i,e):(p[r]=$t(i),p[r].c(),p[r].m(f,null))}for(;r<p.length;r+=1)p[r].d(1);p.length=h.length}},i:v,o:v,d:function(t){t&&I(i),e(p,t),r[20](null),O(d)}}}function wt(t,n,e){var r,i=D().$$.context.get("overlay").open,o=function(t){i(ft,{url:t},{closeButton:!0,closeOnEsc:!0})},c=n.items,u=n.scrollDistance,a=void 0===u?250:u,s=n.zoomOnCardImageClick,l=void 0===s||s,f=!0,d=!0,h=y();function p(t){var n=a*("right"===t?1:-1);try{r.scrollTo({left:r.scrollLeft+n,behavior:"smooth"})}catch(t){e(1,r.scrollLeft+=n,r)}}function v(){return r.offsetWidth+r.scrollLeft>=r.scrollWidth}function m(t){l&&o(t)}function g(t,n){var e=t.target.parentElement;e.style.backgroundImage="url(".concat(n.image,")"),l&&e.classList.add("click-to-zoom"),e.addEventListener("click",function(){return m(n.image)})}return H(function(){r.scrollWidth>r.offsetWidth&&e(3,d=!1)}),t.$set=function(t){"items"in t&&e(0,c=t.items),"scrollDistance"in t&&e(9,a=t.scrollDistance),"zoomOnCardImageClick"in t&&e(10,l=t.zoomOnCardImageClick)},[c,r,f,d,function(t){h("buttonClick",Object.assign({},t))},function(t){t.value&&t.value.trim().length&&h("cardClick",{value:t.value})},p,function(){e(2,f=0===r.scrollLeft),e(3,d=v())},g,a,l,i,o,h,v,m,function(){return p("left")},function(){return p("right")},function(t){t.target.parentElement.classList.add("placeholder")},function(t,n){return g(n,t)},function(t){N[t?"unshift":"push"](function(){e(1,r=t)})}]}var kt=function(){function e(t){var n;return _classCallCheck(this,e),X(_assertThisInitialized(n=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this))),t,wt,_t,r,{items:0,scrollDistance:9,zoomOnCardImageClick:10}),n}return _inherits(e,Y),e}();function Ct(e){var r,i,o;return{c:function(){r=j("div"),i=L(e[0]),R(r,"class","chip svelte-10973sz")},m:function(t,n){A(t,r,n),E(r,i),o=z(r,"click",e[1],{once:!0})},p:function(t,n){1&_slicedToArray(n,1)[0]&&w(i,t[0])},i:v,o:v,d:function(t){t&&I(r),o()}}}function xt(t,n,e){var r=n.label,i=n.value,o=n.type,c=y();return t.$set=function(t){"label"in t&&e(0,r=t.label),"value"in t&&e(2,i=t.value),"type"in t&&e(3,o=t.type)},[r,function(){c("select",{label:r,value:i,type:o})},i,o]}var Tt=function(){function e(t){var n;return _classCallCheck(this,e),X(_assertThisInitialized(n=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this))),t,xt,Ct,r,{label:0,value:2,type:3}),n}return _inherits(e,Y),e}();function Ot(t){var e,r,i;return{c:function(){e=j("div"),(r=j("img")).src!==(i=t[0])&&R(r,"src",i),R(r,"alt",""),R(r,"class","svelte-1yi27mt"),R(e,"class","image-container svelte-1yi27mt")},m:function(t,n){A(t,e,n),E(e,r)},p:function(t,n){1&_slicedToArray(n,1)[0]&&r.src!==(i=t[0])&&R(r,"src",i)},i:v,o:v,d:function(t){t&&I(e)}}}function Et(t,n,e){var r=n.source;return t.$set=function(t){"source"in t&&e(0,r=t.source)},[r]}var At=function(){function e(t){var n;return _classCallCheck(this,e),X(_assertThisInitialized(n=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this))),t,Et,Ot,r,{source:0}),n}return _inherits(e,Y),e}();function It(r){var o,c,u,i,a,s=r[0].closeButton&&jt(r),l=[r[2]],f=r[1];function d(){for(var t={},n=0;n<l.length;n+=1)t=p(t,l[n]);return{props:t}}if(f)var h=new f(d());return{c:function(){o=j("div"),s&&s.c(),c=S(),u=j("div"),h&&x(h.$$.fragment),R(u,"class","content"),R(o,"class","modal-1x4m5qs svelte-2anhu5")},m:function(t,n){var e;A(t,o,n),s&&s.m(o,null),E(o,c),E(o,u),h&&T(h,u,null),i=!0,a=[(e=function(t){return document.body.appendChild(t),{destroy:function(){t.remove&&t.remove()}}}.call(null,o))&&_(e.destroy)?e.destroy:v,z(o,"click",r[3])]},p:function(t,n){t[0].closeButton?s?s.p(t,n):((s=jt(t)).c(),s.m(o,c)):s&&(s.d(1),s=null);var e,r=4&n?function(t,n){for(var e={},r={},i={$$scope:1},o=t.length;o--;){var c=t[o],u=n[o];if(u){for(var a in c)a in u||(r[a]=1);for(var s in u)i[s]||(e[s]=u[s],i[s]=1);t[o]=u}else for(var l in c)i[l]=1}for(var f in r)f in e||(e[f]=void 0);return e}(l,["object"==_typeof(e=t[2])&&null!==e?e:{}]):{};if(f!==(f=t[1])){if(h){W();var i=h;q(i.$$.fragment,1,0,function(){Z(i,1)}),U()}f?(x((h=new f(d())).$$.fragment),V(h.$$.fragment,1),T(h,u,null)):h=null}else f&&h.$set(r)},i:function(t){i||(h&&V(h.$$.fragment,t),i=!0)},o:function(t){h&&q(h.$$.fragment,t),i=!1},d:function(t){t&&I(o),s&&s.d(),h&&Z(h),O(a)}}}function jt(e){var r,i;return{c:function(){(r=j("span")).textContent="×",R(r,"class","close")},m:function(t,n){A(t,r,n),i=z(r,"click",e[3])},p:v,d:function(t){t&&I(r),i()}}}function Lt(e){var o,r,i,c=e[1]&&It(e),u=e[11].default,a=function(t,n,e){if(t){var r=s(t,n,e,null);return t[0](r)}}(u,e,e[10]);return{c:function(){c&&c.c(),o=S(),a&&a.c()},m:function(t,n){c&&c.m(t,n),A(t,o,n),a&&a.m(t,n),r=!0,i=z(window,"keyup",e[4])},p:function(t,n){var e,r,i=_slicedToArray(n,1)[0];t[1]?c?(c.p(t,i),V(c,1)):((c=It(t)).c(),V(c,1),c.m(o.parentNode,o)):c&&(W(),q(c,1,1,function(){c=null}),U()),a&&a.p&&1024&i&&a.p(s(u,t,t[10],null),(e=u,r=t[10],e[2],r.dirty))},i:function(t){r||(V(c),V(a,t),r=!0)},o:function(t){q(c),q(a,t),r=!1},d:function(t){c&&c.d(t),t&&I(o),a&&a.d(t),i()}}}function St(t,n,r){var e,i,o=n.key,c=void 0===o?"overlay":o,u=n.closeButton,a=void 0===u||u,s=n.closeOnEsc,l=void 0===s||s,f={closeButton:a,closeOnEsc:l},d=Object.assign({},f),h=null,p=null;function v(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};r(1,h=t),r(2,p=n),r(0,d=Object.assign(Object.assign({},f),e))}function m(){r(1,h=null),r(2,p=null)}e=c,i={open:v,close:m},D().$$.context.set(e,i);var g=n.$$slots,y=void 0===g?{}:g,b=n.$$scope;return t.$set=function(t){"key"in t&&r(5,c=t.key),"closeButton"in t&&r(6,a=t.closeButton),"closeOnEsc"in t&&r(7,l=t.closeOnEsc),"$$scope"in t&&r(10,b=t.$$scope)},[d,h,p,m,function(t){d.closeOnEsc&&h&&("Escape"===t.key||"Esc"===t.key)&&(t.preventDefault(),m())},c,a,l,f,v,b,y]}var zt=function(){function e(t){var n;return _classCallCheck(this,e),X(_assertThisInitialized(n=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this))),t,St,Lt,r,{key:5,closeButton:6,closeOnEsc:7}),n}return _inherits(e,Y),e}();function Rt(t){var e,r=rt.markdown2HTML(t[0])+"";return{c:function(){e=new n(r,null)},m:function(t,n){e.m(t,n)},p:function(t,n){1&n&&r!==(r=rt.markdown2HTML(t[0])+"")&&e.p(r)},d:function(t){t&&e.d()}}}function Pt(t){var e,r,i,o,c;return{c:function(){e=j("div"),r=S(),i=j("div"),o=S(),c=j("div"),R(e,"class","typing typing-1"),R(i,"class","typing typing-2"),R(c,"class","typing typing-3")},m:function(t,n){A(t,e,n),A(t,r,n),A(t,i,n),A(t,o,n),A(t,c,n)},p:v,d:function(t){t&&I(e),t&&I(r),t&&I(i),t&&I(o),t&&I(c)}}}function Mt(t){var r,i,o;function c(t){return"in"===t[1]&&"..."===t[0]?Pt:Rt}var u=c(t),a=u(t);return{c:function(){r=j("div"),i=j("span"),a.c(),R(i,"class","svelte-tufzia"),R(r,"class",o="text-container "+t[1]+" svelte-tufzia")},m:function(t,n){A(t,r,n),E(r,i),a.m(i,null)},p:function(t,n){var e=_slicedToArray(n,1)[0];u===(u=c(t))&&a?a.p(t,e):(a.d(1),(a=u(t))&&(a.c(),a.m(i,null))),2&e&&o!==(o="text-container "+t[1]+" svelte-tufzia")&&R(r,"class",o)},i:v,o:v,d:function(t){t&&I(r),a.d()}}}function Bt(t,n,e){var r=n.text,i=n.direction;return t.$set=function(t){"text"in t&&e(0,r=t.text),"direction"in t&&e(1,i=t.direction)},[r,i]}var Dt=function(){function e(t){var n;return _classCallCheck(this,e),X(_assertThisInitialized(n=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this))),t,Bt,Mt,r,{text:0,direction:1}),n}return _inherits(e,Y),e}(),Ht={header:'\n\t\t<div style="display: flex; align-items: center;">\n\t\t\t<img\n\t\t\t\tsrc="https://cdn1.iconfinder.com/data/icons/avatar-vol-9/512/1-64.png"\n\t\t\t\talt=""\n\t\t\t\tclass="bot-avatar" />\n\t\t\tChatbot\n\t\t</div>\n\t\t<div class="close" onclick="alert(\'Implement click handler to close widget!\')" />',placeholderUserInput:"Schreibe etwas...",errorNetwork:"Es tut mir sehr leid. Aktuell befinde ich mich im technischen Wartungsmodus und kann dir deshalb mit deiner Anfrage leider nicht helfen. Bitte probiere es zu einem späteren Zeitpunkt nochmal. Danke für dein Verständnis.",errorResponseStatus:"Es tut mir sehr leid. Aktuell befinde ich mich im technischen Wartungsmodus und kann dir deshalb mit deiner Anfrage leider nicht helfen. Bitte probiere es zu einem späteren Zeitpunkt nochmal. Danke für dein Verständnis.",errorResponseEmpty:"Es tut mir sehr leid. Aktuell befinde ich mich im technischen Wartungsmodus und kann dir deshalb mit deiner Anfrage leider nicht helfen. Bitte probiere es zu einem späteren Zeitpunkt nochmal. Danke für dein Verständnis.",newMessages:"↓ Neue Nachrichten",iconSend:'<svg class="icon" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20.9706119,3.29084378 L16.5921791,19.6395348 C16.5207414,19.9062768 16.2465927,20.0646023 15.9798507,19.9931646 C15.9044586,19.9729734 15.8348403,19.935413 15.7765682,19.8834898 L13.4825618,17.8394209 L10.451297,20.8791117 C10.3733006,20.9573249 10.2466677,20.9575007 10.1684545,20.8795043 C10.1308271,20.8419812 10.1096795,20.7910263 10.1096795,20.7378868 L10.1096795,15.1002476 C10.1096795,14.9287559 10.1726324,14.7632307 10.2865927,14.6350807 L16.1259024,8.0686952 L8.735214,13.8831841 C8.61310196,13.9792535 8.45326827,14.0130961 8.30269843,13.9747633 L3.55573081,12.7662563 C3.28812455,12.6981278 3.12641591,12.425961 3.19454446,12.1583547 C3.23005524,12.0188697 3.32395413,11.9014536 3.45221893,11.836145 L20.6866725,3.06087715 C20.7851045,3.01075851 20.9055286,3.04992424 20.9556472,3.14835625 C20.97806,3.19237446 20.9833905,3.24312961 20.9706119,3.29084378 Z" /></svg>',cardScrollDistance:250,chatWidgetID:"sit-chat-widget",locale:"de-DE",timezone:"Europe/Berlin",zoomOnCardImageClick:!0,waitBeforeDots:0,waitBeforeSending:function(){return"localhost"===window.location.hostname?300:1e3+1e3*Math.random()}};function Nt(t,n,e){var r=t.slice();return r[41]=n[e],r}function Wt(t,n,e){var r=t.slice();return r[38]=n[e],r}function Ut(t){var e,r=new At({props:{source:t[38].data.source}});return{c:function(){x(r.$$.fragment)},m:function(t,n){T(r,t,n),e=!0},p:function(t,n){var e={};8&n[0]&&(e.source=t[38].data.source),r.$set(e)},i:function(t){e||(V(r.$$.fragment,t),e=!0)},o:function(t){q(r.$$.fragment,t),e=!1},d:function(t){Z(r,t)}}}function Vt(t){var e,r=new at({props:{text:t[38].text,buttons:t[38].buttons}});return r.$on("buttonClick",t[10]),{c:function(){x(r.$$.fragment)},m:function(t,n){T(r,t,n),e=!0},p:function(t,n){var e={};8&n[0]&&(e.text=t[38].text),8&n[0]&&(e.buttons=t[38].buttons),r.$set(e)},i:function(t){e||(V(r.$$.fragment,t),e=!0)},o:function(t){q(r.$$.fragment,t),e=!1},d:function(t){Z(r,t)}}}function qt(t){var e,r=new kt({props:{items:t[38].items,scrollDistance:t[4].cardScrollDistance,zoomOnCardImageClick:t[4].zoomOnCardImageClick}});return r.$on("buttonClick",t[10]),r.$on("cardClick",t[9]),{c:function(){x(r.$$.fragment)},m:function(t,n){T(r,t,n),e=!0},p:function(t,n){var e={};8&n[0]&&(e.items=t[38].items),r.$set(e)},i:function(t){e||(V(r.$$.fragment,t),e=!0)},o:function(t){q(r.$$.fragment,t),e=!1},d:function(t){Z(r,t)}}}function Zt(t){var e,r=new Dt({props:{text:"...",direction:"in"}});return{c:function(){x(r.$$.fragment)},m:function(t,n){T(r,t,n),e=!0},p:v,i:function(t){e||(V(r.$$.fragment,t),e=!0)},o:function(t){q(r.$$.fragment,t),e=!1},d:function(t){Z(r,t)}}}function Xt(t){var e,r=new Dt({props:{text:t[38].text,direction:t[38].direction}});return{c:function(){x(r.$$.fragment)},m:function(t,n){T(r,t,n),e=!0},p:function(t,n){var e={};8&n[0]&&(e.text=t[38].text),8&n[0]&&(e.direction=t[38].direction),r.$set(e)},i:function(t){e||(V(r.$$.fragment,t),e=!0)},o:function(t){q(r.$$.fragment,t),e=!1},d:function(t){Z(r,t)}}}function Ft(t){for(var i,o,r,c=t[38].chips,u=[],n=0;n<c.length;n+=1)u[n]=Gt(Nt(t,c,n));function a(t){return q(u[t],1,1,function(){u[t]=null})}return{c:function(){i=j("div");for(var t=0;t<u.length;t+=1)u[t].c();o=S(),R(i,"class","chips-container")},m:function(t,n){A(t,i,n);for(var e=0;e<u.length;e+=1)u[e].m(i,null);E(i,o),r=!0},p:function(t,n){if(264&n[0]){var e;for(c=t[38].chips,e=0;e<c.length;e+=1){var r=Nt(t,c,e);u[e]?(u[e].p(r,n),V(u[e],1)):(u[e]=Gt(r),u[e].c(),V(u[e],1),u[e].m(i,o))}for(W(),e=c.length;e<u.length;e+=1)a(e);U()}},i:function(){if(!r){for(var t=0;t<c.length;t+=1)V(u[t]);r=!0}},o:function(){u=u.filter(Boolean);for(var t=0;t<u.length;t+=1)q(u[t]);r=!1},d:function(t){t&&I(i),e(u,t)}}}function Gt(t){var e,r=new Tt({props:{label:t[41].label,value:t[41].value,type:t[41].type}});return r.$on("select",t[8]),{c:function(){x(r.$$.fragment)},m:function(t,n){T(r,t,n),e=!0},p:function(t,n){var e={};8&n[0]&&(e.label=t[41].label),8&n[0]&&(e.value=t[41].value),8&n[0]&&(e.type=t[41].type),r.$set(e)},i:function(t){e||(V(r.$$.fragment,t),e=!0)},o:function(t){q(r.$$.fragment,t),e=!1},d:function(t){Z(r,t)}}}function Jt(t){var r,i,o,c,e,u=[Xt,Zt,qt,Vt,Ut],a=[];function s(t){return t[38].type===F.Text?0:t[38].type===F.Placeholder?1:t[38].type===F.Card?2:t[38].type===F.ButtonList?3:t[38].type===F.Media&&t[38].data.type===G.Image?4:-1}~(r=s(t))&&(i=a[r]=u[r](t));var l=t[38].chips&&t[38].chips.length&&Ft(t);return{c:function(){i&&i.c(),o=S(),l&&l.c(),c=L("")},m:function(t,n){~r&&a[r].m(t,n),A(t,o,n),l&&l.m(t,n),A(t,c,n),e=!0},p:function(t,n){var e=r;(r=s(t))===e?~r&&a[r].p(t,n):(i&&(W(),q(a[e],1,1,function(){a[e]=null}),U()),~r?((i=a[r])||(i=a[r]=u[r](t)).c(),V(i,1),i.m(o.parentNode,o)):i=null),t[38].chips&&t[38].chips.length?l?(l.p(t,n),V(l,1)):((l=Ft(t)).c(),V(l,1),l.m(c.parentNode,c)):l&&(W(),q(l,1,1,function(){l=null}),U())},i:function(){e||(V(i),V(l),e=!0)},o:function(){q(i),q(l),e=!1},d:function(t){~r&&a[r].d(t),t&&I(o),l&&l.d(t),t&&I(c)}}}function Kt(i){for(var o,c,u,a,s,l,f,d,h,p,v,m,g,y,b,$,_,w=i[4].header+"",n=i[4].newMessages+"",k=i[4].iconSend+"",C=i[3],x=[],t=0;t<C.length;t+=1)x[t]=Jt(Wt(i,C,t));function T(t){return q(x[t],1,1,function(){x[t]=null})}return{c:function(){o=j("div"),c=j("header"),u=j("div"),a=S(),s=j("div"),l=S(),f=j("div"),d=j("div"),h=L(n),p=S();for(var t=0;t<x.length;t+=1)x[t].c();v=S(),m=j("footer"),g=j("input"),y=S(),b=j("div"),R(u,"class","content svelte-2v7767"),R(s,"class","spacer"),R(d,"class","btn-scroll-down svelte-2v7767"),M(d,"visibility",i[2]?"visible":"hidden"),R(f,"class","messages svelte-2v7767"),R(g,"class","user-input svelte-2v7767"),R(g,"placeholder",i[4].placeholderUserInput),R(b,"class","btn-send svelte-2v7767"),B(b,"active",i[1].trim().length),R(m,"class","svelte-2v7767"),R(o,"class","chat-widget svelte-2v7767"),R(o,"id",i[4].chatWidgetID)},m:function(t,n){A(t,o,n),E(o,c),E(c,u),u.innerHTML=w,E(o,a),E(o,s),E(o,l),E(o,f),E(f,d),E(d,h),E(f,p);for(var e=0;e<x.length;e+=1)x[e].m(f,null);var r;i[36](f),E(o,v),E(o,m),E(m,g),P(g,i[1]),E(m,y),E(m,b),b.innerHTML=k,$=!0,_=[z(d,"click",(r=i[35],function(t){return t.preventDefault(),r.call(this,t)})),z(f,"scroll",i[11]),z(g,"input",i[37]),z(g,"keydown",i[7]),z(b,"click",i[6])]},p:function(t,n){if((!$||4&n[0])&&M(d,"visibility",t[2]?"visible":"hidden"),1816&n[0]){var e;for(C=t[3],e=0;e<C.length;e+=1){var r=Wt(t,C,e);x[e]?(x[e].p(r,n),V(x[e],1)):(x[e]=Jt(r),x[e].c(),V(x[e],1),x[e].m(f,null))}for(W(),e=C.length;e<x.length;e+=1)T(e);U()}2&n[0]&&g.value!==t[1]&&P(g,t[1]),2&n[0]&&B(b,"active",t[1].trim().length)},i:function(){if(!$){for(var t=0;t<C.length;t+=1)V(x[t]);$=!0}},o:function(){x=x.filter(Boolean);for(var t=0;t<x.length;t+=1)q(x[t]);$=!1},d:function(t){t&&I(o),e(x,t),i[36](null),O(_)}}}function Qt(t){var e,r=new zt({props:{$$slots:{default:[Kt]},$$scope:{ctx:t}}});return{c:function(){x(r.$$.fragment)},m:function(t,n){T(r,t,n),e=!0},p:function(t,n){var e={};15&n[0]|8192&n[1]&&(e.$$scope={dirty:n,ctx:t}),r.$set(e)},i:function(t){e||(V(r.$$.fragment,t),e=!0)},o:function(t){q(r.$$.fragment,t),e=!1},d:function(t){Z(r,t)}}}function Yt(t,n,i){var e,r,o,c,u=this&&this.__awaiter||function(t,c,u,a){return new(u=u||Promise)(function(e,n){function r(t){try{o(a.next(t))}catch(t){n(t)}}function i(t){try{o(a.throw(t))}catch(t){n(t)}}function o(t){var n;t.done?e(t.value):((n=t.value)instanceof u?n:new u(function(t){t(n)})).then(r,i)}o((a=a.apply(t,c||[])).next())})},a=n.endpoint,s=n.settings,l="",f=!1,d=[],h=!1,p=Object.assign(Object.assign({},Ht),s);function v(){return e&&e.scrollHeight-e.scrollTop-20<=e.clientHeight}function m(){var t;e&&(0<arguments.length&&void 0!==arguments[0]&&arguments[0]?null===(t=e.lastElementChild)||void 0===t||t.scrollIntoView({behavior:"smooth",block:"end"}):i(0,e.scrollTop=e.scrollHeight,e))}function g(){if(!o){var t=rt.randomId();o={userId:"USER_".concat(t),sessionId:"SESSION_".concat(t)}}return{version:"2.0",user:Object.assign(Object.assign({},o),{timezone:p.timezone}),locale:p.locale}}function y(){d.forEach(function(t){t.chips&&(t.chips=[])})}function b(t,n){var e=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];if("out"===t.direction&&y(),n){var r=d.findIndex(function(t){return t.placeholderID===n});if(-1!==r)return void i(3,d=[].concat(_toConsumableArray(d.slice(0,r)),[t],_toConsumableArray(d.slice(r+(e?1:0)))))}i(3,d=[].concat(_toConsumableArray(d),[t]))}function $(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"in",e=2<arguments.length?arguments[2]:void 0;b({type:F.Text,text:t,direction:n},e)}function _(t){b({placeholderID:t,type:F.Placeholder,direction:"in"})}function w(t,n){$(t,"in",n)}function k(t,n,e){b({type:F.Text,text:t.message,direction:"in",chips:t.chips},n,e)}function C(t,n,e){b({type:F.Card,direction:"in",chips:t.chips,items:t.data.items},n,e)}function x(t,n,e){b({type:F.ButtonList,direction:"in",text:t.message,buttons:t.data.buttons,chips:t.chips},n,e)}function T(t,n,e){t.data.type===G.Image&&b({type:F.Media,direction:"in",data:t.data,chips:t.chips},n,e)}function O(i,o){return u(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n,e,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=0;case 1:if(!(n<i.response.length)){t.next=18;break}e=i.response[n],r=n+1===i.response.length,t.t0=e.type,t.next="TEXT"===t.t0?6:"CARD"===t.t0?8:"BUTTON_LIST"===t.t0?10:"MEDIA"===t.t0?12:13;break;case 6:return k(e,o,r),t.abrupt("break",13);case 8:return C(e,o,r),t.abrupt("break",13);case 10:return x(e,o,r),t.abrupt("break",13);case 12:T(e,o,r);case 13:return t.next=15,rt.wait(p.waitBeforeSending());case 15:n+=1,t.next=1;break;case 18:case"end":return t.stop()}},t)}))}function E(e,r){var i,o;return u(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(200!==e.status)return t.abrupt("return",void w(p.errorResponseStatus,r));t.next=2;break;case 2:return t.next=4,e.json();case 4:if(n=t.sent,null!==(o=null===(i=n)||void 0===i?void 0:i.response)&&void 0!==o&&o.length)return t.next=8,O(n,r);t.next=10;break;case 8:t.next=11;break;case 10:w(p.errorResponseEmpty,r);case 11:case"end":return t.stop()}},t)}))}function A(r){return u(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n,e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a){t.next=2;break}return t.abrupt("return");case 2:return m(),t.next=5,rt.wait(p.waitBeforeDots);case 5:return _(n=rt.randomId()),t.next=9,rt.wait(p.waitBeforeSending());case 9:return t.prev=9,t.next=12,fetch(a,{method:"POST",headers:{"content-type":"application/json",accept:"application/json"},body:JSON.stringify(r),mode:"cors"});case 12:return e=t.sent,t.next=15,E(e,n);case 15:t.next=20;break;case 17:t.prev=17,t.t0=t.catch(9),w(p.errorNetwork,n);case 20:case"end":return t.stop()}},t,null,[[9,17]])}))}function I(n){return u(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",A(Object.assign(Object.assign({},g()),{request:{type:"TEXT",message:n}})));case 1:case"end":return t.stop()}},t)}))}function j(){l.trim().length&&($(l,"out"),I(l),i(1,l=""))}return window.addEventListener("touchstart",function t(){h=!0,window.removeEventListener("touchstart",t,!1)},!1),H(function(){I("invoke_welcome_intent")}),c=function(){r=v()},D().$$.before_update.push(c),D().$$.after_update.push(function(){r&&m()}),t.$set=function(t){"endpoint"in t&&i(12,a=t.endpoint),"settings"in t&&i(13,s=t.settings)},t.$$.update=function(){9&t.$$.dirty[0]&&d&&e&&(v()||i(2,f=!0))},[e,l,f,d,p,m,j,function(t){13===t.which&&(j(),h&&document.activeElement&&document.activeElement.blur())},function(t){var n=t.detail,e=n.label,r=n.value;n.type===J.Action&&($(e,"out"),I(r))},function(t){I(t.detail.value)},function(t){var n=t.detail,e=n.label,r=n.value,i=n.type;i===K.Action?($(e,"out"),I(r)):i===K.Url?window.open(r):i===K.Phone?window.open("tel:".concat(r),"_self"):i===K.Email&&window.open("mailto:".concat(r),"_self")},function(){v()&&i(2,f=!1)},a,s,$,O,function(){i(3,d=[])},r,o,h,u,v,g,y,b,_,w,k,C,x,T,E,A,I,function(n){return u(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",A(Object.assign(Object.assign({},g()),{request:{type:"CUSTOM",payload:n}})));case 1:case"end":return t.stop()}},t)}))},function(){i(2,f=!1),m(!0)},function(t){N[t?"unshift":"push"](function(){i(0,e=t)})},function(){l=this.value,i(1,l)}]}return function(){function e(t){var n;return _classCallCheck(this,e),X(_assertThisInitialized(n=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this))),t,Yt,Qt,r,{endpoint:12,settings:13,addTextMessage:14,dispatchResponse:15,removeMessages:16},[-1,-1]),n}return _inherits(e,Y),_createClass(e,[{key:"addTextMessage",get:function(){return this.$$.ctx[14]}},{key:"dispatchResponse",get:function(){return this.$$.ctx[15]}},{key:"removeMessages",get:function(){return this.$$.ctx[16]}}]),e}()}();